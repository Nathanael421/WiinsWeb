<div class="container-footer w-100">
  <div class="row w-100 h-100 mx-0">
    <!-- Search Bar -->
    <div class="d-none d-sm-none d-md-none d-xl-block col-xl-3 h-100">
      <div class="bar-container container-mini-player h-100">
        <div *ngIf="(musicList$|async); let p" class="container h-100 my-auto">
          <div class="row d-flex justify-content-center">
            <div id="slide" class="container-extra-player">
              <div class="container-info h-100">
                <div class="row">
                  <div class="offset-3 col-9">
                    <div class="container pt-1">
                      <div class="row mx-0">
                        <span class="title-project">title-project</span>
                      </div>
                      <div class="row mx-0">
                        <span class="pseudo-profile">pseudo-profile</span>
                      </div>
                      <div class="row justify-content-between mx-0 current-time">
                        <span>00:00</span>
                        <span>00:00</span>
                      </div>
                      <div class="row mx-0 container-progress">
                        <div class="seek-bar" [style.width.%]="40"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row mx-0 h-100">
            <div class="col-4 d-flex justify-content-center">
              <div class="container-disk" [ngClass]="{'playing': (musicPlaying$|async)}" *ngIf="(audio$|async); let m">
                <img class="rounded-circle" [(src)]="m.imgUrl" alt="">
              </div>
            </div>
            <div class="col-8 my-auto px-0">
              <div class="row mx-0" *ngIf="audio$ | async; let m">
                <button class="col px-0">
                  <img class="btn-like" src="../../../../assets/svg/heart-icon.svg">
                </button>
                <button (click)="controlMusicService.previous(m, p, progress)"
                  class="col music-btn-control p-2 d-flex justify-content-center">
                  <i class="fa fa-backward"></i>
                </button>
                <button class="col music-btn-control p-2 d-flex justify-content-center">
                  <i (click)="controlMusicService.pause()" *ngIf="!(musicPlaying$|async)" class="fa fa-play"></i>
                  <i (click)="controlMusicService.continue()" *ngIf="(musicPlaying$|async)" class="fa fa-pause"></i>
                </button>
                <button class="col music-btn-control p-2 d-flex justify-content-center">
                  <i class="fa fa-forward"></i>
                </button>
              </div>
            </div>

          </div>
        </div>


      </div>
    </div>
    <!-- Last Room -->
    <div class="col-md-8 col-xl-6 h-100">
      <div class="bar-container h-100">
        <div class="row mx-0 h-100">
          <div class="col-1 my-auto cursor-pointer" (click)="supportMessage()">
            <img class="nav-icon reverse-icon" src="../../../../assets/icon/circle-go-right.png" alt="">
          </div>
          <div class="col-10 my-auto px-0">
            <div class="row mx-0">
              <div class="one-room rounded-circle mx-3" *ngFor="let r of (room$|async)" (click)="openChat(r, $event)">
                <img class="w-100 h-100 rounded-circle" [src]="r.participants[0].pictureprofile" alt="">
                <div class="notif" *ngIf="r.roomOption.participants[0].notification !== 0">
                  <span class="number w-100">{{r.roomOption.participants[0].notification}}</span>
                </div>
              </div>
            </div>
          </div>
          <div class="col-1 my-auto cursor-pointer" (click)="supportMessage()">
            <img class="nav-icon" src="../../../../assets/icon/circle-go-right.png" alt="">
          </div>
        </div>
      </div>
    </div>
    <!-- New Room -->
    <div class="d-none d-sm-none d-md-block col-md-4 col-xl-3 h-100" (click)="supportMessage()">
      <div class="container bar-container h-100 my-auto">
        <div class="row mx-0 h-100">
          <div class="col-8 pl-5 search-input my-auto text-center">
            <span class="new-message-title">Send a message</span>
          </div>
          <div class="col-4 m-auto">
            <i class="fa fa-paper-plane my-auto pt-1"></i>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div hidden *ngIf="(audio$ | async); let m">
  <audio #currentMusic autoplay>
    <source [src]="m.file" type="audio/mpeg">
  </audio>
</div>